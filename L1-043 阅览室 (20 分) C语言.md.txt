# 一、题目

> 天梯图书阅览室请你编写一个简单的图书借阅统计程序。当读者借书时，管理员输入书号并按下S键，程序开始计时；当读者还书时，管理员输入书号并按下E键，程序结束计时。书号为不超过1000的正整数。当管理员将0作为书号输入时，表示一天工作结束，你的程序应输出当天的读者借书次数和平均阅读时间。



**输入格式：**
> 输入在第一行给出一个正整数N（≤10），随后给出N天的纪录。每天的纪录由若干次借阅操作组成，每次操作占一行，格式为：
书号（[1, 1000]内的整数） 键值（S或E） 发生时间（hh:mm，其中hh是[0,23]内的整数，mm是[0, 59]内整数）
每一天的纪录保证按时间递增的顺序给出。


**输出格式：**

>对每天的纪录，在一行中输出当天的读者借书次数和平均阅读时间（以分钟为单位的精确到个位的整数时间）。


**输入样例1：**
3
1 S 08:10
2 S 08:35
1 E 10:00
2 E 13:16
0 S 17:00
0 S 17:00
3 E 08:10
1 S 08:20
2 S 09:00
1 E 09:20
0 E 17:00

**输出样例1：**
2 196
0 0
1 60




 

# 二、解决方案
# 1.思路
①这道题我们for循环把天数总体框架给出，然后处理每一天的信息，开始输入每一本书的信息，在while循环里处理今天所有的书籍信息。
②把借书时间全部换算成分钟，注意标记每一次借书，避免掉有借无还和有还无借的情况，再借书后标记为1，还书后再置为0
③如果借书超过1本，平均时长可能会有小数出现，所以我们转换成float类型，并且用%.0f（四舍五入）打印

——————————————
# 2.代码

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include <stdio.h>
int main()
{
	int n, num, h, m;
	char s;
	int arr[1005][5];
	scanf("%d", &n);
	for (int i = 0; i < n; i++)
	{
		int count = 0, t = 0;
		scanf("%d %c %d:%d", &num, &s, &h, &m);
		while (num)
		{
			if (s == 'S')
			{
				arr[num][0] = 1;//已借出
				arr[num][1] = h * 60 + m;//当前时间
			}
			if (s == 'E' && arr[num][0] == 1)//防止只还不借情况
			{
				count++;//有换有借才是一次完整借书流程
				//同时防止有借无换，这样我们就不将他计算为一次借书流程
				t += h * 60 + m - arr[num][1];//总看书时长
				arr[num][0] = 0;
			}
			scanf("%d %c %d:%d", &num, &s, &h, &m);
		}
		if (count <= 1)
		{
			printf("%d %d\n", count, t);
		}
		if (count > 1)
		{
			printf("%d %.0f\n", count, (float)t / count);
		}
	}
	return 0;
}
```

